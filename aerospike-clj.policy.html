<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>aerospike-clj.policy documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Aerospike-clj</span> <span class="project-version">2.0.8-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="advanced-async-hooks.html"><div class="inner"><span># Advanced asynchronous hooks:</span></div></a></li><li class="depth-1 "><a href="tutorial.html"><div class="inner"><span>Tutorial</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aerospike-clj</span></div></div></li><li class="depth-2 branch"><a href="aerospike-clj.aerospike-record.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aerospike-record</span></div></a></li><li class="depth-2 branch"><a href="aerospike-clj.bins.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bins</span></div></a></li><li class="depth-2 branch"><a href="aerospike-clj.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-2 branch"><a href="aerospike-clj.key.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>key</span></div></a></li><li class="depth-2 branch"><a href="aerospike-clj.listeners.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>listeners</span></div></a></li><li class="depth-2 branch"><a href="aerospike-clj.metrics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metrics</span></div></a></li><li class="depth-2 branch"><a href="aerospike-clj.mock-client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mock-client</span></div></a></li><li class="depth-2 branch current"><a href="aerospike-clj.policy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>policy</span></div></a></li><li class="depth-2 branch"><a href="aerospike-clj.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-2"><a href="aerospike-clj.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="aerospike-clj.policy.html#var-create-client-policy"><div class="inner"><span>create-client-policy</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-create-only-policy"><div class="inner"><span>create-only-policy</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-lowercase-first"><div class="inner"><span>lowercase-first</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-map-.3Ebatch-policy"><div class="inner"><span>map-&gt;batch-policy</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-map-.3Eevent-policy"><div class="inner"><span>map-&gt;event-policy</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-map-.3Epolicy"><div class="inner"><span>map-&gt;policy</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-map-.3Ewrite-policy"><div class="inner"><span>map-&gt;write-policy</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-replace-only-policy"><div class="inner"><span>replace-only-policy</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-set-java"><div class="inner"><span>set-java</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-set-java-enum"><div class="inner"><span>set-java-enum</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-set-policy"><div class="inner"><span>set-policy</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-update-only-policy"><div class="inner"><span>update-only-policy</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-update-policy"><div class="inner"><span>update-policy</span></div></a></li><li class="depth-1"><a href="aerospike-clj.policy.html#var-write-policy"><div class="inner"><span>write-policy</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">aerospike-clj.policy</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-create-client-policy"><h3>create-client-policy</h3><div class="usage"><code>(create-client-policy event-loops conf)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L141">view source</a></div></div><div class="public anchor" id="var-create-only-policy"><h3>create-only-policy</h3><div class="usage"><code>(create-only-policy client expiration)</code></div><div class="doc"><div class="markdown"><p>Create a write policy with CREATE_ONLY record exists action.</p>
</div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L98">view source</a></div></div><div class="public anchor" id="var-lowercase-first"><h3>lowercase-first</h3><div class="usage"><code>(lowercase-first s)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L13">view source</a></div></div><div class="public anchor" id="var-map-.3Ebatch-policy"><h3>map-&gt;batch-policy</h3><div class="usage"><code>(map-&gt;batch-policy conf)</code></div><div class="doc"><div class="markdown"><p>Create a (read) <code>BatchPolicy</code> from a map. This function is slow due to possible reflection.</p>
</div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L42">view source</a></div></div><div class="public anchor" id="var-map-.3Eevent-policy"><h3>map-&gt;event-policy</h3><div class="usage"><code>(map-&gt;event-policy)</code><code>(map-&gt;event-policy conf)</code></div><div class="doc"><div class="markdown"><p>Create an <code>EventPolicy</code> from a map. Usage same as <code>map-&gt;write-policy</code>.</p>
</div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L120">view source</a></div></div><div class="public anchor" id="var-map-.3Epolicy"><h3>map-&gt;policy</h3><div class="usage"><code>(map-&gt;policy conf)</code></div><div class="doc"><div class="markdown"><p>Create a (read) <code>Policy</code> from a map. Enumeration names should start with capitalized letter. This function is slow due to possible reflection.</p>
</div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L24">view source</a></div></div><div class="public anchor" id="var-map-.3Ewrite-policy"><h3>map-&gt;write-policy</h3><div class="usage"><code>(map-&gt;write-policy conf)</code></div><div class="doc"><div class="markdown"><p>Create a <code>WritePolicy</code> from a map. Keys are strings identical to field names enum fields should start capitalized. This function is slow and involves reflection. For a faster creation use <code>write-policy</code> which uses the client policy caching.</p>
</div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L53">view source</a></div></div><div class="public anchor" id="var-replace-only-policy"><h3>replace-only-policy</h3><div class="usage"><code>(replace-only-policy client expiration)</code></div><div class="doc"><div class="markdown"><p>Create a write policy with REPLACE_ONLY record exists action. Fails if the record does not exists</p>
</div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L105">view source</a></div></div><div class="public anchor" id="var-set-java"><h3>set-java</h3><h4 class="type">macro</h4><div class="usage"><code>(set-java obj conf obj-name)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L9">view source</a></div></div><div class="public anchor" id="var-set-java-enum"><h3>set-java-enum</h3><h4 class="type">macro</h4><div class="usage"><code>(set-java-enum obj conf obj-name)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L16">view source</a></div></div><div class="public anchor" id="var-set-policy"><h3>set-policy</h3><div class="usage"><code>(set-policy client expiration)</code></div><div class="doc"><div class="markdown"><p>Create a write policy with UPDATE record exists action. in case of new entry, create it in case the entry exists, update entry</p>
</div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L80">view source</a></div></div><div class="public anchor" id="var-update-only-policy"><h3>update-only-policy</h3><div class="usage"><code>(update-only-policy client new-expiration)</code></div><div class="doc"><div class="markdown"><p>Create a write policy with UPDATE_ONLY record exists action. The policy helps add/delete bins in records without replacing existing data.</p>
</div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L112">view source</a></div></div><div class="public anchor" id="var-update-policy"><h3>update-policy</h3><div class="usage"><code>(update-policy client generation new-expiration)</code></div><div class="doc"><div class="markdown"><p>Create a write policy with <code>expiration</code>, expected <code>generation</code> and EXPECT_GEN_EQUAL generation policy.</p>
</div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L89">view source</a></div></div><div class="public anchor" id="var-write-policy"><h3>write-policy</h3><div class="usage"><code>(write-policy client expiration)</code><code>(write-policy client expiration record-exists-action)</code></div><div class="doc"><div class="markdown"><p>Create a write policy to be passed to put methods via <code>{:policy wp}</code>. Also used in <code>update</code> and <code>create</code>. The default policy in case the record exists is <code>RecordExistsAction/REPLACE</code>.</p>
</div></div><div class="src-link"><a href="http://github.com/AppsFlyer/aerospike-clj/blob/2.0.8-SNAPSHOT/src/main/clojure/aerospike_clj/policy.clj#L68">view source</a></div></div></div></body></html>